@{
    ViewBag.NamePage = "Отчетная документация";
    Layout = "/Views/Shared/_Layout.cshtml";
}
<!DOCTYPE html>
<html>
    <body>
        <div class="main">
            <div class="container">         
                <div class="marga">                
                <p>
                       <label>Период:</label>
                        <input type="text" name="daterange" value="03/12/2024 - 01/15/2024"/>
                        <script type="text/javascript" src="~/js/datepicker/moment.min.js"></script>
                        <script type="text/javascript" src="~/js/datepicker/daterangepicker.min.js"></script>
                        <link rel="stylesheet" type="text/css" href="~/css/daterangepicker.css" />
                   </p>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            $('input[name="daterange"]').daterangepicker();
            $('input[name="daterange"]').on('apply.daterangepicker', function (ev, picker) {
                $.ajax({
                    url: '@Url.Action("CreateDocument", "Docs")',
                    type: 'POST',
                    data: { "dateStart": picker.startDate.format('DD-MM-YYYY'), "dateEnd": picker.endDate.format('DD-MM-YYYY') },
                    dataType: "json",
                    success: function (request) {
                        window.location = '/Docs/Download?id=' + request;
                    },
                    error: function (err) {
                        alert(err);
                    }

                });
            });
        </script>
    </body>
</html>
<link href="~/css/homeStyle.css" rel="stylesheet" />

